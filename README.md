# Flight_Delay_Prediction

## 📈1. 数据预处理说明
### 原始数据
| 数据文件/文件夹 | 描述           | 数据格式      | 数据范围                    |来源|字段说明|
|----------|--------------|-----------|-------------------------|----|------|
| **raw_data**文件夹| 原始航班数据，共13份  | CSV       | **2021年7月**至**2022年7月** | BTS                                             |见readme.html|
| **ICAO**文件夹    | 航班对应执飞飞机型号   | sqlite数据库 | N/A                     | [开源项目](https://github.com/RobAltenburg/icao_db) |见readme.md
|**WEATHER_ALL_STD.csv**| 各个城市小时粒度天气数据 | CSV       |**2021年7月**至**2022年7月**|[Meteostat](https://meteostat.net/en/)|[字段说明](https://dev.meteostat.net/api/stations/hourly.html#endpoint)

### 中间数据
| 步骤  | 数据文件                                      | 描述                                                                  | 数据格式 | 生成方式                                      |
|-----|-------------------------------------------|---------------------------------------------------------------------|------|-------------------------------------------|
| 1.  | COMBINED_flight_data_202107_to_202207.csv | 2021-07~2022-07所有原始数据中，每个月随机取10%，汇总得到 **注意**：后面所有数据均基于此10%采样数据生成/关联 | CSV  | N/A                                       
| 2.  |aircraft_model.csv| 从ICAO数据库中，筛选出航班数据中出现过的数据，避免大表关联                                     | CSV  | 通过航班表的不重复Tail_Number筛选 ICAO数据             
| 3.  |COMBINED_MODEL_flight_data_202107_to_202207.csv| 抽样汇总数据与飞机型号数据库关联而成                                                  | CSV  | 底表**Tail_Number**与第2步骤的型号表**tail_num**左关联 
| 4.  |city_location.json| 各个城市的经纬度字典，用于获取天气数据                                                 | json | 取城市唯一值，调用接口获取该城市经纬度                                      
|5. | WEATHER_ALL_STD.csv| 2021-07~2022-07各个机场所在地区的天气数据，小时粒度                                   | CSV  |调用天气API接口

### 建模数据集
| 步骤  | 数据文件                                  | 描述                                    | 数据格式 | 备注  |
|-----|---------------------------------------|---------------------------------------|------|-----|
| 1.  | Flight_data_with_MODEL_&_WEATHER.csv | 2021-07~2022-07航班数据+飞机型号/制造商+天气数据汇总文件 | CSV  |原始宽表数据，包含很多缺失值
|2. |Train_Dataset_1021.csv|经过初步特征工程后的数值训练数据，split后可直接用于模型训练|CSV|仅做简单特征工程，丢失数据较多

## 🤖2. Notebook说明
1. **DataPreprocessing.ipynb**:数据预处理程序、包含所有**中间数据**生成代码。
2. **MODEL.ipynb**: 建模程序，包含简略特征工程、建模、评价
3. **DNN.ipynb**: developing...

## 💽3. 模型说明
1. 已训练的模型保存在**Model**目录下，保存/读取方式见 MODEL.ipynb